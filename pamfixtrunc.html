<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<TITLE>Pamfixtrunc User Manual</TITLE></HEAD>
<BODY>
<H1>pamfixtrunc</H1>
<BR>
<p><b>pamfixtrunc</b> was replaced in Netpbm 10.66 (March 2014) by
<b><a href="pamfix.html">pamfix</a></b>.

<P><B>pamfix</b> with a <b>-truncate</b> option is the same thing as
<b>pamfixtrunc</b>.  But <b>pamfix</b> has other options to repair other
kinds of corruption.

<p>Another change that came with Netpbm 10.66 is that an invalid sample value
(a value greater than the maxval the image declares in its header) is
considered by the common Netpbm image reading facility (in libnetpbm) to be
unreadable, which means the file is essentially truncated.  In older Netpbm,
the invalid sample value propagates to the output in a program such as
<b>pamfixtrunc</b>.  Thus, in older Netpbm a file with 100 rows and an invalid
sample value in the 3rd row would pass through <b>pamfixtrunc</b> unchanged.
But in Netpbm 10.66, <b>pamfix -truncate</b> with the same input would produce
an output image with only 2 rows.  While it is not possible in 10.66 to
cause <b>pamfix</b> to generate an invalid Netpbm image, you can
use <b>-clip</b> and <b>-changemaxval</b> options to avoid truncating the
file in a case like this.

<P>You should not make any new use of <b>pamfixtrunc</b> and if you modify an
existing use, you should upgrade to <b>pamfixtrunc</b>.  But note that if you
write a program that might have to be used with very old
Netpbm, <b>pamfixtrunc</b> is the only way to do that.

</BODY>
</HTML>
